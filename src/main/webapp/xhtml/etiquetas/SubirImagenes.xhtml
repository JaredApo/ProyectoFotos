<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:view contentType="text/html;charset=UTF-8" encoding="UTF-8">
	<h:head>
	</h:head>
	<h:body>
		<ui:composition template="/Plantilla.xhtml">
			<ui:define name="contenido">
				<div class="card ui-fluid ">
					<p:dialog modal="true" widgetVar="dialogo" header="Estado"
						draggable="false" closable="false" resizable="false">
						<p:graphicImage library="tema1" name="img/aragon3.gif" />
					</p:dialog>
					<h:form id="f20" enctype="multipart/form-data">
						<p:messages id="msg" showDetail="true" />
						<p:fileUpload listener="#{subirArchivoBean.archivoArriba}"
							update=":imagen" allowTypes="/(\.|\/)(jpe?g)$/" multiple="false" />
					</h:form>
					<h:form id="f21">
						<p:commandButton id="descarga" value="Bajar"
							onclick="PrimeFaces.monitorDownload(start,stop);">
							<p:fileDownload value="#{subirArchivoBean.bajar}" />
						</p:commandButton>
					</h:form>
					<p:graphicImage cache="false" id="imagen"
						value="#{subirArchivoBean.imagen}" width="40%" height="40%" />
				</div>
				<script type="text/javascript">
					function start() {
						PF('dialogo').show();
					}
					function stop() {
						PF('dialogo').hide();
							}
				</script>
			</ui:define>
		</ui:composition>
	</h:body>
</f:view>
</html>